<div class="main-title">
  <h1 class="main-title__text">予定一覧</h1>
  <%= link_to :new_plan do %>
    <button type="button" class="btn btn-info add-button">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle-fill add-button__icon" viewBox="0 0 16 16">
      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3z"/>
    </svg>
    新規追加
    </button>
  <% end %>
</div>
<% if flash[:notice] %>
  <div class="notice-container hide">
    <p class="notice"><%= flash[:notice] %></p>
  </div>
<% end %>
<div class="table-wrapper table-responsive table-hover">
  <table class="table">
    <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">タイトル</th>
        <th scope="col">開始日</th>
        <th scope="col">終了日</th>
        <th scope="col">終日</th>
        <th scope="col">更新日時</th>
        <th scope="col"></th>
        <th scope="col"></th>
        <th scope="col"></th>
      </tr>
    </thead>
    <tbody>
      <% @plans.each do |plan| %>
        <tr>
          <th scope="row"><%= plan.id %></th>
          <td><%= plan.title %></td>
          <td><%= plan.start_date.to_s(:datetime_jp) %></td>
          <td><%= plan.end_date.to_s(:datetime_jp) %></td>
          <% if plan.all_day %>
            <td class="text-center">◯</td>
          <% else %>
            <td></td>
          <% end %>
          <td>
            <%= plan.updated_at.to_s(:datetime_jp) %><br>
            <%= plan.updated_at.to_s(:time_jp) %>
          </td>
          <td>
            <%= link_to "詳細", plan, class: "text-info" %>
          </td>
          <td>
            <%= link_to "編集", [:edit, plan], class: "text-info" %>
          </td>
          <td>
            <button type="button" data-toggle="modal" data-target="#exampleModalCenter<%= plan.id %>" class="text-info delete-button">削除</button>
            <%= render partial: "shared/confirm_modal", locals: { plan: plan } %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>